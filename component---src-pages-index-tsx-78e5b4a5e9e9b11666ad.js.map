{"version":3,"sources":["webpack:///./src/pages/index.tsx"],"names":["IndexPage","props","_this","_React$Component","call","this","toggleMenu","menuToggled","state","setState","handleScroll","attractionsRef","current","photosRef","reviewsRef","_this$state","showAttractions","showPhotos","showReviews","hasReachedShowAttractions","window","scrollY","getBoundingClientRect","top","hasReachedShowPhotos","hasReachedShowReviews","React","createRef","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","_this$state2","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_components__WEBPACK_IMPORTED_MODULE_4__","title","showModal","handleToggle","Fragment","className","styles","filename","imgStyle","filter","style","height","CMS","landingTitle","_assets__WEBPACK_IMPORTED_MODULE_5__","landingSubtitle","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","exploreBtn","contactBtn","react_scroll__WEBPACK_IMPORTED_MODULE_1__","smooth","show","htmlRef","Component"],"mappings":"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","file":"component---src-pages-index-tsx-78e5b4a5e9e9b11666ad.js","sourcesContent":["import React from \"react\";\r\nimport { Link as ScrollLink } from \"react-scroll\";\r\nimport { Link } from \"gatsby\";\r\nimport * as styles from \"./index.module.scss\";\r\n\r\nimport { Attractions, Layout, Image, Navbar, Modal, Photos, Reviews, Footer, SEO } from \"../components\";\r\nimport { AelanPlaceFontLogo } from \"../../assets\";\r\nimport { post } from \"../helpers\";\r\nimport CMS from \"../../content/homepageCMS.json\";\r\n\r\nclass IndexPage extends React.Component<any, any> {  \r\n  private attractionsRef: React.RefObject<HTMLDivElement>;\r\n  private photosRef: React.RefObject<HTMLDivElement>;\r\n  private reviewsRef: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      menuToggled: false,\r\n      showAttractions: false,\r\n      showPhotos: false,\r\n      showReviews: false,\r\n    }\r\n\r\n    this.attractionsRef = React.createRef();\r\n    this.photosRef = React.createRef();\r\n    this.reviewsRef = React.createRef();\r\n  }\r\n\r\n  toggleMenu = () => {\r\n    const { menuToggled } = this.state;\r\n\r\n    this.setState({\r\n      menuToggled: !menuToggled\r\n    })\r\n  }\r\n\r\n  handleScroll = () => {\r\n    const attractionsRef = this.attractionsRef.current;\r\n    const photosRef = this.photosRef.current;\r\n    const reviewsRef = this.reviewsRef.current;\r\n\r\n    if (!attractionsRef || !photosRef || !reviewsRef ) { return; }\r\n\r\n    const { showAttractions, showPhotos, showReviews } = this.state;\r\n\r\n    const hasReachedShowAttractions = (window.scrollY + attractionsRef.getBoundingClientRect().top) / 3 < window.scrollY;\r\n    const hasReachedShowPhotos = (window.scrollY + photosRef.getBoundingClientRect().top) / 2 < window.scrollY;\r\n    const hasReachedShowReviews = (window.scrollY + reviewsRef.getBoundingClientRect().top) / 2 < window.scrollY;\r\n\r\n    if (showAttractions !== hasReachedShowAttractions) {\r\n      this.setState({ showAttractions: hasReachedShowAttractions });\r\n    }\r\n\r\n    if (showPhotos !== hasReachedShowPhotos) {\r\n      this.setState({ showPhotos: hasReachedShowPhotos });\r\n    }\r\n\r\n    if (showReviews !== hasReachedShowReviews) {\r\n      this.setState({ showReviews: hasReachedShowReviews });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener('scroll', this.handleScroll);\r\n    }    \r\n  }\r\n\r\n  // fetchAvailabilities = async () => {    \r\n  //   const data = { \r\n  //     listing_id: \"39097100\",\r\n  //     month: \"12\",\r\n  //     year: \"2020\",\r\n  //     count: \"3\"\r\n  //   }\r\n\r\n  //   const res = await (await post(\"/api/availabilities\", data, {})).json();\r\n\r\n  //   console.log(res);\r\n  // }\r\n\r\n  componentWillUnmount() {\r\n    if (typeof window !== 'undefined') {\r\n      window.removeEventListener('scroll', this.handleScroll);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { menuToggled, showAttractions, showPhotos, showReviews } = this.state;\r\n\r\n    return (\r\n      <Layout>\r\n          <SEO title=\"Overview\" />\r\n          <Modal showModal={menuToggled} />\r\n          <Navbar menuToggled={menuToggled} handleToggle={this.toggleMenu}/>      \r\n          {!menuToggled &&\r\n            <>\r\n              <div className={styles.introContainer}>          \r\n                <Image filename=\"aelan_8.jpg\" imgStyle={{ filter: 'brightness(0.5)'}} style={{ height: '100vh' }}/> \r\n                <div className={styles.introContainer_main}>\r\n                  <h1 className={styles.introContainer_title}>{CMS.landingTitle}</h1>                  \r\n                  <AelanPlaceFontLogo className={styles.introContainer_locationName}/>\r\n                  <h1 className={styles.introContainer_title}>{CMS.landingSubtitle}</h1>\r\n                  <br/>\r\n                  <div className={styles.introContainer_links}>\r\n                    <Link to=\"/apartments\" className={styles.introContainer_links_item}>{CMS.exploreBtn}</Link>\r\n                    <Link to=\"/contact\" className={styles.introContainer_links_item}>{CMS.contactBtn}</Link>\r\n                    {/* <Button type=\"primary\" shape=\"round\" size=\"large\" onClick={this.fetchAvailabilities}>Test</Button> */}\r\n                  </div>\r\n                </div>\r\n                <ScrollLink className={styles.introContainer_scroll} to=\"photos_section\" smooth={true}><span className={styles.introContainer_scroll_arrow}/></ScrollLink>                \r\n              </div>\r\n              <Photos show={showPhotos} htmlRef={this.photosRef}/>\r\n              <Attractions show={showAttractions} htmlRef={this.attractionsRef}/>\r\n              <Reviews show={showReviews} htmlRef={this.reviewsRef}/>\r\n              <Footer />\r\n            </>\r\n          } \r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}