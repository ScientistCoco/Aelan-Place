{"version":3,"sources":["webpack:///./src/pages/index.tsx"],"names":["IndexPage","props","_this","_React$Component","call","this","toggleMenu","menuToggled","state","setState","handleScroll","attractionsRef","current","photosRef","reviewsRef","_this$state","showAttractions","showPhotos","showReviews","hasReachedShowAttractions","window","scrollY","getBoundingClientRect","top","hasReachedShowPhotos","hasReachedShowReviews","React","createRef","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","_this$state2","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_components__WEBPACK_IMPORTED_MODULE_4__","title","showModal","handleToggle","Fragment","className","styles","filename","imgStyle","filter","style","height","CMS","landingTitle","_assets__WEBPACK_IMPORTED_MODULE_5__","landingSubtitle","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","exploreBtn","contactBtn","react_scroll__WEBPACK_IMPORTED_MODULE_1__","smooth","show","htmlRef","Component"],"mappings":"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","file":"component---src-pages-index-tsx-78e5b4a5e9e9b11666ad.js","sourcesContent":["import React from \"react\";\nimport { Link as ScrollLink } from \"react-scroll\";\nimport { Link } from \"gatsby\";\nimport * as styles from \"./index.module.scss\";\n\nimport { Attractions, Layout, Image, Navbar, Modal, Photos, Reviews, Footer, SEO } from \"../components\";\nimport { AelanPlaceFontLogo } from \"../../assets\";\nimport { post } from \"../helpers\";\nimport CMS from \"../../content/homepageCMS.json\";\n\nclass IndexPage extends React.Component<any, any> {  \n  private attractionsRef: React.RefObject<HTMLDivElement>;\n  private photosRef: React.RefObject<HTMLDivElement>;\n  private reviewsRef: React.RefObject<HTMLDivElement>;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      menuToggled: false,\n      showAttractions: false,\n      showPhotos: false,\n      showReviews: false,\n    }\n\n    this.attractionsRef = React.createRef();\n    this.photosRef = React.createRef();\n    this.reviewsRef = React.createRef();\n  }\n\n  toggleMenu = () => {\n    const { menuToggled } = this.state;\n\n    this.setState({\n      menuToggled: !menuToggled\n    })\n  }\n\n  handleScroll = () => {\n    const attractionsRef = this.attractionsRef.current;\n    const photosRef = this.photosRef.current;\n    const reviewsRef = this.reviewsRef.current;\n\n    if (!attractionsRef || !photosRef || !reviewsRef ) { return; }\n\n    const { showAttractions, showPhotos, showReviews } = this.state;\n\n    const hasReachedShowAttractions = (window.scrollY + attractionsRef.getBoundingClientRect().top) / 3 < window.scrollY;\n    const hasReachedShowPhotos = (window.scrollY + photosRef.getBoundingClientRect().top) / 2 < window.scrollY;\n    const hasReachedShowReviews = (window.scrollY + reviewsRef.getBoundingClientRect().top) / 2 < window.scrollY;\n\n    if (showAttractions !== hasReachedShowAttractions) {\n      this.setState({ showAttractions: hasReachedShowAttractions });\n    }\n\n    if (showPhotos !== hasReachedShowPhotos) {\n      this.setState({ showPhotos: hasReachedShowPhotos });\n    }\n\n    if (showReviews !== hasReachedShowReviews) {\n      this.setState({ showReviews: hasReachedShowReviews });\n    }\n  }\n\n  componentDidMount() {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', this.handleScroll);\n    }    \n  }\n\n  // fetchAvailabilities = async () => {    \n  //   const data = { \n  //     listing_id: \"39097100\",\n  //     month: \"12\",\n  //     year: \"2020\",\n  //     count: \"3\"\n  //   }\n\n  //   const res = await (await post(\"/api/availabilities\", data, {})).json();\n\n  //   console.log(res);\n  // }\n\n  componentWillUnmount() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('scroll', this.handleScroll);\n    }\n  }\n\n  render() {\n    const { menuToggled, showAttractions, showPhotos, showReviews } = this.state;\n\n    return (\n      <Layout>\n          <SEO title=\"Overview\" />\n          <Modal showModal={menuToggled} />\n          <Navbar menuToggled={menuToggled} handleToggle={this.toggleMenu}/>      \n          {!menuToggled &&\n            <>\n              <div className={styles.introContainer}>          \n                <Image filename=\"aelan_8.jpg\" imgStyle={{ filter: 'brightness(0.5)'}} style={{ height: '100vh' }}/> \n                <div className={styles.introContainer_main}>\n                  <h1 className={styles.introContainer_title}>{CMS.landingTitle}</h1>                  \n                  <AelanPlaceFontLogo className={styles.introContainer_locationName}/>\n                  <h1 className={styles.introContainer_title}>{CMS.landingSubtitle}</h1>\n                  <br/>\n                  <div className={styles.introContainer_links}>\n                    <Link to=\"/apartments\" className={styles.introContainer_links_item}>{CMS.exploreBtn}</Link>\n                    <Link to=\"/contact\" className={styles.introContainer_links_item}>{CMS.contactBtn}</Link>\n                    {/* <Button type=\"primary\" shape=\"round\" size=\"large\" onClick={this.fetchAvailabilities}>Test</Button> */}\n                  </div>\n                </div>\n                <ScrollLink className={styles.introContainer_scroll} to=\"photos_section\" smooth={true}><span className={styles.introContainer_scroll_arrow}/></ScrollLink>                \n              </div>\n              <Photos show={showPhotos} htmlRef={this.photosRef}/>\n              <Attractions show={showAttractions} htmlRef={this.attractionsRef}/>\n              <Reviews show={showReviews} htmlRef={this.reviewsRef}/>\n              <Footer />\n            </>\n          } \n      </Layout>\n    )\n  }\n}\n\nexport default IndexPage\n"],"sourceRoot":""}